[{"module":"","decl":"","severity":"Error","hint":"Parse error: case","file":"ahs/haxtatic/src/Posts.hs","startLine":239,"startColumn":43,"endLine":239,"endColumn":43,"from":"                      Nothing -> ((ctxbuild-:projPosts) ~|(==feedname).feed) >~((,) \"\")\n                      Just _ -> postsfromblok blokname\n>         (pageuri , feedtitle , feeddesc)  case maybeblok of\n                      Just blok -> ( '/':(hrefify (blok-:Bloks.blokIndexPageFile)) , blok-:Bloks.title , blok-:Bloks.desc )\n                      Nothing -> ( '/':(feedname++\".html\")  feedname , \"\"\n","to":null,"note":[],"refactorings":"[]"}
,{"module":"Pages","decl":"","severity":"Warning","hint":"Use module export list","file":"ahs/haxtatic/src/Pages.hs","startLine":1,"startColumn":1,"endLine":1,"endColumn":19,"from":"module Pages where","to":"module Pages (module Pages) where","note":["\"An explicit list is usually better\""],"refactorings":"[]"}
,{"module":"Pages","decl":"processPage","severity":"Warning","hint":"Redundant bracket","file":"ahs/haxtatic/src/Pages.hs","startLine":59,"startColumn":14,"endLine":59,"endColumn":25,"from":"(otherwise)","to":"otherwise","note":[],"refactorings":"[Replace {rtype = Expr, pos = SrcSpan {startLine = 59, startCol = 14, endLine = 59, endCol = 25}, subts = [(\"x\",SrcSpan {startLine = 59, startCol = 15, endLine = 59, endCol = 24})], orig = \"x\"}]"}
,{"module":"Pages","decl":"processPage","severity":"Suggestion","hint":"Redundant bracket","file":"ahs/haxtatic/src/Pages.hs","startLine":73,"startColumn":29,"endLine":73,"endColumn":118,"from":"(++ (ProjC.dtPageDateFormat (ctxproj -: Proj.setup -: Proj.cfg)\n       (outjob -: Build.contentDate)))","to":"(++ ProjC.dtPageDateFormat (ctxproj -: Proj.setup -: Proj.cfg)\n      (outjob -: Build.contentDate))","note":[],"refactorings":"[Replace {rtype = Expr, pos = SrcSpan {startLine = 73, startCol = 33, endLine = 73, endCol = 117}, subts = [(\"x\",SrcSpan {startLine = 73, startCol = 34, endLine = 73, endCol = 116})], orig = \"x\"}]"}
,{"module":"Pages","decl":"processPage","severity":"Suggestion","hint":"Redundant bracket","file":"ahs/haxtatic/src/Pages.hs","startLine":86,"startColumn":28,"endLine":86,"endColumn":121,"from":"if (istmpfilepvars && has (cachedfile -: Files.content)) then\n  tmpfilepathpvars else srcfilepath","to":"if istmpfilepvars && has (cachedfile -: Files.content) then\n  tmpfilepathpvars else srcfilepath","note":[],"refactorings":"[Replace {rtype = Expr, pos = SrcSpan {startLine = 86, startCol = 31, endLine = 86, endCol = 82}, subts = [(\"x\",SrcSpan {startLine = 86, startCol = 32, endLine = 86, endCol = 81})], orig = \"x\"}]"}
,{"module":"Pages","decl":"processPage","severity":"Suggestion","hint":"Redundant bracket","file":"ahs/haxtatic/src/Pages.hs","startLine":94,"startColumn":25,"endLine":96,"endColumn":98,"from":"(Util.dtInts nowtime) ++\n  (Util.dtInts $outjob -: Build.srcFile -: Files.modTime) ++\n    [length $ctxbuild -: Posts.allPagesFiles, pagesrcraw ~> length]","to":"Util.dtInts nowtime ++\n  (Util.dtInts $outjob -: Build.srcFile -: Files.modTime) ++\n    [length $ctxbuild -: Posts.allPagesFiles, pagesrcraw ~> length]","note":[],"refactorings":"[Replace {rtype = Expr, pos = SrcSpan {startLine = 94, startCol = 25, endLine = 94, endCol = 46}, subts = [(\"x\",SrcSpan {startLine = 94, startCol = 26, endLine = 94, endCol = 45})], orig = \"x\"}]"}
,{"module":"Pages","decl":"processPage","severity":"Suggestion","hint":"Redundant bracket","file":"ahs/haxtatic/src/Pages.hs","startLine":108,"startColumn":61,"endLine":108,"endColumn":124,"from":"randseed' >~ ((+) ((max 1 $pagesrcraw ~> length) * randseed' @! 1))","to":"randseed' >~ (+) ((max 1 $pagesrcraw ~> length) * randseed' @! 1)","note":[],"refactorings":"[Replace {rtype = Expr, pos = SrcSpan {startLine = 108, startCol = 74, endLine = 108, endCol = 124}, subts = [(\"x\",SrcSpan {startLine = 108, startCol = 75, endLine = 108, endCol = 123})], orig = \"x\"}]"}
,{"module":"Pages","decl":"processPage","severity":"Suggestion","hint":"Use section","file":"ahs/haxtatic/src/Pages.hs","startLine":108,"startColumn":74,"endLine":108,"endColumn":124,"from":"((+) ((max 1 $pagesrcraw ~> length) * randseed' @! 1))","to":"(((max 1 $pagesrcraw ~> length) * randseed' @! 1) +)","note":[],"refactorings":"[]"}
,{"module":"Pages","decl":"processPage","severity":"Suggestion","hint":"Redundant bracket","file":"ahs/haxtatic/src/Pages.hs","startLine":117,"startColumn":34,"endLine":117,"endColumn":87,"from":"null pagevars |? pagesrcraw |! (concat pagesrcchunks)","to":"null pagevars |? pagesrcraw |! concat pagesrcchunks","note":[],"refactorings":"[Replace {rtype = Expr, pos = SrcSpan {startLine = 117, startCol = 65, endLine = 117, endCol = 87}, subts = [(\"x\",SrcSpan {startLine = 117, startCol = 66, endLine = 117, endCol = 86})], orig = \"x\"}]"}
,{"module":"Pages","decl":"processPage","severity":"Suggestion","hint":"Redundant bracket","file":"ahs/haxtatic/src/Pages.hs","startLine":125,"startColumn":17,"endLine":125,"endColumn":56,"from":"defval -|= (htmlinners htmlsrc tagname)","to":"defval -|= htmlinners htmlsrc tagname","note":[],"refactorings":"[Replace {rtype = Expr, pos = SrcSpan {startLine = 125, startCol = 28, endLine = 125, endCol = 56}, subts = [(\"x\",SrcSpan {startLine = 125, startCol = 29, endLine = 125, endCol = 55})], orig = \"x\"}]"}
,{"module":"Pages","decl":"processPage","severity":"Suggestion","hint":"Redundant bracket","file":"ahs/haxtatic/src/Pages.hs","startLine":129,"startColumn":42,"endLine":129,"endColumn":96,"from":"'=' : (Tmpl.processSrc ctxtmpl (Just ctxpageproc) pvval)","to":"'=' : Tmpl.processSrc ctxtmpl (Just ctxpageproc) pvval","note":[],"refactorings":"[Replace {rtype = Expr, pos = SrcSpan {startLine = 129, startCol = 46, endLine = 129, endCol = 96}, subts = [(\"x\",SrcSpan {startLine = 129, startCol = 47, endLine = 129, endCol = 95})], orig = \"x\"}]"}
,{"module":"Pages","decl":"pageVars","severity":"Suggestion","hint":"Redundant bracket","file":"ahs/haxtatic/src/Pages.hs","startLine":142,"startColumn":14,"endLine":142,"endColumn":60,"from":"(Util.splitUp Str.trim [\"{%P|\"] \"|%}\" pagesrc)","to":"Util.splitUp Str.trim [\"{%P|\"] \"|%}\" pagesrc","note":[],"refactorings":"[Replace {rtype = Expr, pos = SrcSpan {startLine = 142, startCol = 14, endLine = 142, endCol = 60}, subts = [(\"x\",SrcSpan {startLine = 142, startCol = 15, endLine = 142, endCol = 59})], orig = \"x\"}]"}
,{"module":"Pages","decl":"pageVars","severity":"Suggestion","hint":"Redundant bracket","file":"ahs/haxtatic/src/Pages.hs","startLine":149,"startColumn":26,"endLine":149,"endColumn":72,"from":"(Util.splitOn1st_ '=' pvarstr) ~> Str.trimBoth","to":"Util.splitOn1st_ '=' pvarstr ~> Str.trimBoth","note":[],"refactorings":"[Replace {rtype = Expr, pos = SrcSpan {startLine = 149, startCol = 26, endLine = 149, endCol = 56}, subts = [(\"x\",SrcSpan {startLine = 149, startCol = 27, endLine = 149, endCol = 55})], orig = \"x\"}]"}
,{"module":"Pages","decl":"tagHandler","severity":"Suggestion","hint":"Redundant bracket","file":"ahs/haxtatic/src/Pages.hs","startLine":169,"startColumn":11,"endLine":169,"endColumn":93,"from":"((Lst.lookup split1st (ctxpage -: Tmpl.pVars)) >>= formatpvar) <|>\n  (for ptagcontent)","to":"((Lst.lookup split1st (ctxpage -: Tmpl.pVars)) >>= formatpvar) <|>\n  for ptagcontent","note":[],"refactorings":"[Replace {rtype = Expr, pos = SrcSpan {startLine = 169, startCol = 76, endLine = 169, endCol = 93}, subts = [(\"x\",SrcSpan {startLine = 169, startCol = 77, endLine = 169, endCol = 92})], orig = \"x\"}]"}
,{"module":"Pages","decl":"tagHandler","severity":"Suggestion","hint":"Redundant bracket","file":"ahs/haxtatic/src/Pages.hs","startLine":169,"startColumn":12,"endLine":169,"endColumn":70,"from":"(Lst.lookup split1st (ctxpage -: Tmpl.pVars)) >>= formatpvar","to":"Lst.lookup split1st (ctxpage -: Tmpl.pVars) >>= formatpvar","note":[],"refactorings":"[Replace {rtype = Expr, pos = SrcSpan {startLine = 169, startCol = 12, endLine = 169, endCol = 55}, subts = [(\"x\",SrcSpan {startLine = 169, startCol = 13, endLine = 169, endCol = 54})], orig = \"x\"}]"}
,{"module":"Pages","decl":"tagHandler","severity":"Suggestion","hint":"Redundant bracket","file":"ahs/haxtatic/src/Pages.hs","startLine":171,"startColumn":11,"endLine":172,"endColumn":30,"from":"(Lst.lookup ptagcontent (ctxpage -: Tmpl.pVars)) <|>\n  (for ptagcontent)","to":"Lst.lookup ptagcontent (ctxpage -: Tmpl.pVars) <|>\n  (for ptagcontent)","note":[],"refactorings":"[Replace {rtype = Expr, pos = SrcSpan {startLine = 171, startCol = 11, endLine = 171, endCol = 57}, subts = [(\"x\",SrcSpan {startLine = 171, startCol = 12, endLine = 171, endCol = 56})], orig = \"x\"}]"}
,{"module":"Pages","decl":"tagHandler","severity":"Suggestion","hint":"Redundant bracket","file":"ahs/haxtatic/src/Pages.hs","startLine":171,"startColumn":11,"endLine":172,"endColumn":30,"from":"(Lst.lookup ptagcontent (ctxpage -: Tmpl.pVars)) <|>\n  (for ptagcontent)","to":"(Lst.lookup ptagcontent (ctxpage -: Tmpl.pVars)) <|>\n  for ptagcontent","note":[],"refactorings":"[Replace {rtype = Expr, pos = SrcSpan {startLine = 172, startCol = 13, endLine = 172, endCol = 30}, subts = [(\"x\",SrcSpan {startLine = 172, startCol = 14, endLine = 172, endCol = 29})], orig = \"x\"}]"}
,{"module":"Pages","decl":"tagHandler","severity":"Suggestion","hint":"Redundant bracket","file":"ahs/haxtatic/src/Pages.hs","startLine":171,"startColumn":11,"endLine":173,"endColumn":42,"from":"(Lst.lookup ptagcontent (ctxpage -: Tmpl.pVars)) <|>\n  (for ptagcontent)\n  <|> (ttags ('P' : '|' : ptagcontent))","to":"(Lst.lookup ptagcontent (ctxpage -: Tmpl.pVars)) <|>\n  (for ptagcontent)\n  <|> ttags ('P' : '|' : ptagcontent)","note":[],"refactorings":"[Replace {rtype = Expr, pos = SrcSpan {startLine = 173, startCol = 13, endLine = 173, endCol = 42}, subts = [(\"x\",SrcSpan {startLine = 173, startCol = 14, endLine = 173, endCol = 41})], orig = \"x\"}]"}
,{"module":"Pages","decl":"tagHandler","severity":"Suggestion","hint":"Redundant bracket","file":"ahs/haxtatic/src/Pages.hs","startLine":202,"startColumn":19,"endLine":202,"endColumn":62,"from":"\"dirUri\" =: '/' : (Util.ifIs reldir' (++ \"/\"))","to":"\"dirUri\" =: '/' : Util.ifIs reldir' (++ \"/\")","note":[],"refactorings":"[Replace {rtype = Expr, pos = SrcSpan {startLine = 202, startCol = 35, endLine = 202, endCol = 62}, subts = [(\"x\",SrcSpan {startLine = 202, startCol = 36, endLine = 202, endCol = 61})], orig = \"x\"}]"}
,{"module":"Pages","decl":"writeSitemapXml","severity":"Suggestion","hint":"Redundant bracket","file":"ahs/haxtatic/src/Pages.hs","startLine":217,"startColumn":21,"endLine":218,"endColumn":24,"from":"(concat xmlinneritems) ++ \"\\n</urlset>\"","to":"concat xmlinneritems ++ \"\\n</urlset>\"","note":[],"refactorings":"[Replace {rtype = Expr, pos = SrcSpan {startLine = 217, startCol = 21, endLine = 217, endCol = 43}, subts = [(\"x\",SrcSpan {startLine = 217, startCol = 22, endLine = 217, endCol = 42})], orig = \"x\"}]"}
,{"module":"Pages","decl":"writeSitemapXml","severity":"Suggestion","hint":"Redundant bracket","file":"ahs/haxtatic/src/Pages.hs","startLine":222,"startColumn":34,"endLine":224,"endColumn":25,"from":"(ProjC.dtUtc2Str (ctxproj -: Proj.setup -: Proj.cfg) \"\" moddate) ++\n  \"</lastmod>\\n        <priority>\" ++\n    (take 3 (show priority)) ++ \"</priority>\\n    </url>\"","to":"ProjC.dtUtc2Str (ctxproj -: Proj.setup -: Proj.cfg) \"\" moddate ++\n  \"</lastmod>\\n        <priority>\" ++\n    (take 3 (show priority)) ++ \"</priority>\\n    </url>\"","note":[],"refactorings":"[Replace {rtype = Expr, pos = SrcSpan {startLine = 222, startCol = 34, endLine = 222, endCol = 94}, subts = [(\"x\",SrcSpan {startLine = 222, startCol = 35, endLine = 222, endCol = 93})], orig = \"x\"}]"}
,{"module":"Pages","decl":"writeSitemapXml","severity":"Suggestion","hint":"Redundant bracket","file":"ahs/haxtatic/src/Pages.hs","startLine":223,"startColumn":35,"endLine":224,"endColumn":25,"from":"(take 3 (show priority)) ++ \"</priority>\\n    </url>\"","to":"take 3 (show priority) ++ \"</priority>\\n    </url>\"","note":[],"refactorings":"[Replace {rtype = Expr, pos = SrcSpan {startLine = 223, startCol = 35, endLine = 223, endCol = 59}, subts = [(\"x\",SrcSpan {startLine = 223, startCol = 36, endLine = 223, endCol = 58})], orig = \"x\"}]"}
,{"module":"Pages","decl":"writeSitemapXml","severity":"Suggestion","hint":"Move brackets to avoid $","file":"ahs/haxtatic/src/Pages.hs","startLine":236,"startColumn":24,"endLine":236,"endColumn":116,"from":"(0.1 :: Double) *\n  (fromIntegral $\n     (Lst.count '/' relpath) + (Lst.count '.' relpath) - (1 :: Int))","to":"(0.1 :: Double) *\n  fromIntegral\n    ((Lst.count '/' relpath) + (Lst.count '.' relpath) - (1 :: Int))","note":[],"refactorings":"[Replace {rtype = Expr, pos = SrcSpan {startLine = 236, startCol = 40, endLine = 236, endCol = 116}, subts = [(\"a\",SrcSpan {startLine = 236, startCol = 41, endLine = 236, endCol = 53}),(\"b\",SrcSpan {startLine = 236, startCol = 55, endLine = 236, endCol = 115})], orig = \"a (b)\"}]"}
,{"module":"Pages","decl":"writeSitemapXml","severity":"Suggestion","hint":"Redundant bracket","file":"ahs/haxtatic/src/Pages.hs","startLine":236,"startColumn":55,"endLine":236,"endColumn":104,"from":"(Lst.count '/' relpath) + (Lst.count '.' relpath)","to":"Lst.count '/' relpath + (Lst.count '.' relpath)","note":[],"refactorings":"[Replace {rtype = Expr, pos = SrcSpan {startLine = 236, startCol = 55, endLine = 236, endCol = 78}, subts = [(\"x\",SrcSpan {startLine = 236, startCol = 56, endLine = 236, endCol = 77})], orig = \"x\"}]"}
,{"module":"Pages","decl":"writeSitemapXml","severity":"Suggestion","hint":"Redundant bracket","file":"ahs/haxtatic/src/Pages.hs","startLine":236,"startColumn":55,"endLine":236,"endColumn":104,"from":"(Lst.count '/' relpath) + (Lst.count '.' relpath)","to":"(Lst.count '/' relpath) + Lst.count '.' relpath","note":[],"refactorings":"[Replace {rtype = Expr, pos = SrcSpan {startLine = 236, startCol = 81, endLine = 236, endCol = 104}, subts = [(\"x\",SrcSpan {startLine = 236, startCol = 82, endLine = 236, endCol = 103})], orig = \"x\"}]"}]
